<!DOCTYPE html> <html lang="en-us"> <head> <link href="https://gmpg.org/xfn/11" rel="profile"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta http-equiv="content-type" content="text/html; charset=utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"> <title> How to Program a Deque in Java &middot; Gabe's Blog </title> <link rel="stylesheet" href="/public/css/poole.css"> <link rel="stylesheet" href="/public/css/syntax.css"> <link rel="stylesheet" href="/public/css/hyde.css"> <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface"> <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.1/css/all.css" integrity="sha384-O8whS3fhG2OnA5Kas0Y9l3cfpmYjapjI0E4theH4iuMD+pLhbf6JI0jIMfYcK3yZ" crossorigin="anonymous"> <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-144-precomposed.png"> <link rel="shortcut icon" href="/public/favicon.ico"> <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml"> </head> <body class="theme-base-0d"> <div class="sidebar"> <div class="container sidebar-sticky"> <div class="sidebar-about"> <h1> <a href="/"> Gabe's Blog </a> </h1> <p class="lead">A site for programmers by a programmer</p> </div> <nav class="sidebar-nav"> <a class="sidebar-nav-item" href="/">Home</a> <a class="sidebar-nav-item" href="/about/">About</a> <a class="sidebar-nav-item" href="/projects/">Projects</a> <div class="sidebar-hz-navs"> <a class="sidebar-nav-item" href="https://www.youtube.com/gameswithgabe" target="_blank"><i class="fab fa-youtube"></i></a> <a class="sidebar-nav-item" href="https://github.com/ambrosiogabe" target="_blank"><i class="fab fa-github"></i></a> </div> </nav> <p>&copy; 2022-2023. All rights reserved.</p> </div> </div> <div class="content container"> <div class="post"> <div> <img src="/public/images/articleHeaders/codeADequeInJava.png"></img> </div> <h1 class="post-title">How to Program a Deque in Java</h1> <span class="post-date">18 Sep 2017</span> <p>Deques are another important data structure. They are like queues, except that they are double ended. What this means is that you can add an element to the front of the deque, or to the end of the deque. It also means you can remove an element from the front of a deque or the end of a deque. Now, this is very efficient, it is O(1). The only hindrance is that it is limited on the amount of space it can take up. Since a deque is also constructed using an array as the base it has a fixed size. This means your deques cannot grow or shrink. Posted below is the code to a fully functional deque in Java. I will briefly explain key sections for further understanding.</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Deque</span><span class="o">&lt;</span><span class="nc">Type</span><span class="o">&gt;</span> <span class="o">{</span>

  <span class="kt">int</span> <span class="n">size</span><span class="o">,</span> <span class="n">front</span><span class="o">,</span> <span class="n">end</span><span class="o">;</span>
  <span class="kt">int</span> <span class="n">totalSize</span> <span class="o">=</span> <span class="mi">10000</span><span class="o">;</span>
  <span class="nc">Type</span><span class="o">[]</span> <span class="n">array</span> <span class="o">=</span> <span class="o">(</span><span class="nc">Type</span><span class="o">[])</span><span class="k">new</span> <span class="nc">Object</span><span class="o">[</span><span class="n">totalSize</span><span class="o">];</span>

  <span class="kd">public</span> <span class="nf">Deque</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">size</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
    <span class="n">front</span> <span class="o">=</span> <span class="n">totalSize</span> <span class="o">/</span> <span class="mi">2</span><span class="o">;</span>
    <span class="n">end</span> <span class="o">=</span> <span class="n">front</span> <span class="o">+</span> <span class="n">size</span> <span class="o">-</span> <span class="mi">1</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">addFirst</span><span class="o">(</span><span class="nc">Type</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">front</span><span class="o">--;</span>
    <span class="n">size</span><span class="o">++;</span>
    <span class="n">array</span><span class="o">[</span><span class="n">front</span> <span class="o">%</span> <span class="n">totalSize</span><span class="o">]</span> <span class="o">=</span> <span class="n">e</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">addLast</span><span class="o">(</span><span class="nc">Type</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">end</span><span class="o">++;</span>
    <span class="n">array</span><span class="o">[</span><span class="n">end</span> <span class="o">%</span> <span class="n">totalSize</span><span class="o">]</span> <span class="o">=</span> <span class="n">e</span><span class="o">;</span>
    <span class="n">size</span><span class="o">++;</span>
  <span class="o">}</span>

  <span class="kd">public</span> <span class="nc">Type</span> <span class="nf">removeFirst</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">if</span><span class="o">(!</span><span class="n">isEmpty</span><span class="o">())</span> <span class="o">{</span>
      <span class="n">front</span><span class="o">++;</span>
      <span class="n">size</span><span class="o">--;</span>
      <span class="k">return</span> <span class="n">array</span><span class="o">[</span><span class="n">front</span> <span class="o">-</span> <span class="mi">1</span><span class="o">];</span>
    <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
      <span class="k">return</span> <span class="kc">null</span><span class="o">;</span>
    <span class="o">}</span>
  <span class="o">}</span>

  <span class="kd">public</span> <span class="nc">Type</span> <span class="nf">removeLast</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">if</span><span class="o">(!</span><span class="n">isEmpty</span><span class="o">())</span> <span class="o">{</span>
      <span class="n">size</span><span class="o">--;</span>
      <span class="n">end</span><span class="o">--;</span>
      <span class="k">return</span> <span class="n">array</span><span class="o">[</span><span class="n">end</span> <span class="o">+</span> <span class="mi">1</span><span class="o">];</span>
    <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
      <span class="k">return</span> <span class="kc">null</span><span class="o">;</span>
    <span class="o">}</span>
  <span class="o">}</span>

  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">print</span><span class="o">()</span> <span class="o">{</span>
    <span class="nc">String</span> <span class="n">print</span> <span class="o">=</span> <span class="s">"["</span><span class="o">;</span>

    <span class="k">if</span><span class="o">(!</span><span class="n">isEmpty</span><span class="o">())</span> <span class="o">{</span>
      <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="n">front</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">end</span> <span class="o">+</span> <span class="mi">1</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
        <span class="k">if</span><span class="o">(</span><span class="n">i</span> <span class="o">!=</span> <span class="n">end</span><span class="o">)</span>
          <span class="n">print</span> <span class="o">+=</span> <span class="n">array</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">+</span> <span class="s">", "</span><span class="o">;</span>
        <span class="k">else</span>
          <span class="n">print</span> <span class="o">+=</span> <span class="n">array</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">+</span> <span class="s">"]"</span><span class="o">;</span>
      <span class="o">}</span>
    <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
      <span class="n">print</span> <span class="o">+=</span> <span class="s">"]"</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">print</span><span class="o">);</span>
  <span class="o">}</span>

  <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">isEmpty</span><span class="o">()</span> <span class="o">{</span><span class="k">return</span> <span class="n">size</span> <span class="o">==</span> <span class="mi">0</span><span class="o">;}</span>
  <span class="kd">public</span> <span class="kt">int</span> <span class="nf">size</span><span class="o">()</span> <span class="o">{</span><span class="k">return</span> <span class="n">size</span><span class="o">;}</span>
  <span class="kd">public</span> <span class="nc">Type</span> <span class="nf">first</span><span class="o">()</span> <span class="o">{</span><span class="k">return</span> <span class="n">array</span><span class="o">[</span><span class="n">front</span><span class="o">];}</span>
<span class="o">}</span>

</code></pre></div></div> <p>The way I construct my deque is by implementing an array of a vast size so that the deque does not run out of space any time soon. Then I have the deque begin in the middle of this array. You need three variables to keep track of where everything is, the front, the end, and the size. Using these three variables it is very simple to add or remove elements from the beginning or the end of the deque.</p> <p>The addFirst method simply decrements the front by one, increments the size by one, then adds the new element to the new front. Simple. Likewise, the addLast method simply increments the end by one, increments the size by one, then adds the new element to the new tail.</p> <p>To remove elements it is just slightly more tricky. To remove first the code simply decrements size by one, increments the front by one, then returns the array’s front - 1. The reason for subtracting one is because the new front is now the next element above where the original front was, hence “removing” the front. So we have to look one behind the new front to see what the old front was. Removing last is very similar. Just decrement the size by one, decrements the end by one, and then return the array’s end + 1.</p> <p>I hope this helps you on your journey to understanding deque’s. Questions or comments, leave them below and I’ll get back to them shortly!</p> </div> <div class="related"> <h2>Related Posts</h2> <ul class="related-posts"> <li> <h3> <a href="/code/2022/02/02/a-review-of-clean-code/"> Why are people still recommending this book? <small>02 Feb 2022</small> </a> </h3> </li> <li> <h3> <a href="/games/2021/10/07/the-math-behind-font-rasterization-Copy/"> The Math Behind Font Rasterization <small>07 Oct 2021</small> </a> </h3> </li> <li> <h3> <a href="/games/2020/04/16/on-cameras-in-opengl/"> Cameras in OpenGL <small>16 Apr 2020</small> </a> </h3> </li> </ul> </div> </div> </body> <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [['$','$'], ['\\(','\\)']],
        processEscapes: true
      },
      "HTML-CSS": { linebreaks: { automatic: true } },
      SVG: { linebreaks: { automatic: true } }
    });
  </script> <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script> </html>